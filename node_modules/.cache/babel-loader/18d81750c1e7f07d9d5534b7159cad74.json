{"ast":null,"code":"var _jsxFileName = \"D:\\\\CLSFY\\\\src\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport './App.css';\nimport { useState, useRef } from 'react';\nimport axios from 'axios';\nimport { v4 as uuidv4 } from 'uuid';\nimport AppBar from './components/AppBar';\nimport About from './components/About';\nimport AppStepper from './components/AppStepper';\nimport HandleFile from './components/file_handling/HandleFile';\nimport ModelsCards from './components/ModelsCards';\nimport ScoresAndStats from './components/scores_and_stats/ScoresAndStats';\nimport HandleDataToPredict from './components/handle_data_to_predict/HandleDataToPredict';\nimport Container from '@mui/material/Container';\nimport { Snackbar } from '@mui/material';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst TextString = \"Text\";\nconst FeaturesString = \"Features\";\nconst TextClassificationColor = \"#ffcc80\";\nconst FeaturesClassificationColor = \"#80cbc4\";\nconst anonymousString = \"Anonymous\";\nconst signedString = \"Signed\";\nconst uploadStep = 0;\nconst reportStep = 1;\nconst PredictStep = 2;\n\nconst scrollToRef = ref => ref.current.scrollIntoView({\n  behavior: 'smooth',\n  block: 'center'\n});\n\nfunction App() {\n  _s();\n\n  const [activeStep, setActiveStep] = useState(uploadStep);\n  const [themeColor, setThemeColor] = useState(TextClassificationColor);\n  const [classifyingType, setClassifyingType] = useState(TextString);\n  const [report, setReport] = useState({});\n  const [user, setUser] = useState(null);\n  const [userType, setUserType] = useState(anonymousString);\n  const [uid, setUid] = useState(uuidv4()); //generate unique id for anonymous user\n\n  const [featuresLabels, setFeaturesLabels] = useState([]);\n  const [modelId, setModelId] = useState(null);\n  const [modelsData, setModelsData] = useState(null);\n  const [message, setMessage] = useState(null);\n  const [disableSwitch, setDisabledSwitch] = useState(false);\n\n  const deleteModelFromDatabase = async (uid, modelIdToDelete) => {\n    const url = 'model/' + uid;\n\n    try {\n      const res = await axios({\n        method: 'delete',\n        url: url,\n        data: {\n          modelIdToDelete\n        }\n      });\n      console.log(res.data);\n    } catch (err) {\n      console.log(err.response.status);\n    }\n  };\n\n  const fetchModelsData = async uid => {\n    const url = 'models-data/' + uid;\n\n    try {\n      const res = await axios({\n        method: 'get',\n        url: url\n      });\n      console.log(res.data);\n      setModelsData(res.data['models_data']);\n    } catch (err) {\n      console.log(err.response.status);\n    }\n  };\n\n  const onLogin = async userFromLogin => {\n    setUser(userFromLogin);\n    setUserType(signedString);\n    setUid(userFromLogin.uid);\n    fetchModelsData(userFromLogin.uid);\n  };\n\n  const onLogout = () => {\n    console.log(\"LOGOUT\");\n    setUser(null);\n  };\n\n  const onPredictFormSubmit = async predictedClass => {\n    console.log(predictedClass); //predictFeatures(dataToPredict)\n    //send to \n  };\n\n  const onPredictFileSubmit = predictedClass => {\n    console.log(predictedClass);\n  };\n\n  const onFileSubmit = async data => {\n    setDisabledSwitch(true);\n    setActiveStep(reportStep);\n    setModelId(data['file_id']);\n    console.log(data['report']);\n    const dataReport = data['report'];\n    console.log(typeof dataReport);\n    setReport(dataReport);\n    setFeaturesLabels(data['report']['features_labels']);\n    setMessage('Trained model saved');\n  };\n\n  const handleSwitch = SwitchTextString => {\n    setClassifyingType(SwitchTextString);\n    if (themeColor === TextClassificationColor) setThemeColor(FeaturesClassificationColor);else setThemeColor(TextClassificationColor);\n    console.log(FeaturesClassificationColor);\n  };\n\n  const deleteModelFromModelsData = modelIdToDelete => {\n    const newModelsData = modelsData.filter(modelData => modelData['id'] !== modelIdToDelete);\n    console.log(newModelsData);\n    setModelsData(newModelsData);\n  };\n\n  const onModelSelection = (modelId, features) => {\n    setFeaturesLabels(features);\n    setModelId(modelId);\n    setActiveStep(PredictStep);\n    executeScrollStart();\n  };\n\n  const handleModelDelete = modelIdToDelete => {\n    deleteModelFromModelsData(modelIdToDelete);\n    deleteModelFromDatabase(uid, modelIdToDelete);\n  };\n\n  const handleActiveSetChange = step => {\n    setActiveStep(step);\n  };\n\n  const homeRef = useRef(null);\n\n  const executeScrollHome = () => scrollToRef(homeRef);\n\n  const startRef = useRef(null);\n\n  const executeScrollStart = () => scrollToRef(startRef);\n\n  const testButtonClick = () => {\n    setMessage('Scores & Stats updated');\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      fontFamily: 'Calibri light',\n      fontSize: '1.25rem'\n    },\n    children: [/*#__PURE__*/_jsxDEV(Snackbar, {\n      open: message,\n      autoHideDuration: 6000,\n      onClose: () => setMessage(null),\n      message: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      ref: homeRef,\n      sx: {\n        width: \"90%\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(AppBar, {\n        user: user,\n        handleLogin: onLogin,\n        handleLogout: onLogout,\n        handleHomeClick: executeScrollHome,\n        handleStartClick: executeScrollStart\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          height: '10rem'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(About, {\n        user: user\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: testButtonClick,\n        children: \"Test\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 9\n      }, this), modelsData ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(ModelsCards, {\n          modelsData: modelsData,\n          onModelSelection: onModelSelection,\n          handleModelDelete: handleModelDelete\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"waves\",\n      role: \"presentation\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"content-bottom\",\n      ref: startRef,\n      style: {\n        color: themeColor\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          height: '5rem'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(AppStepper, {\n        activeStep: activeStep,\n        setActiveStep: handleActiveSetChange,\n        firstStepComponent: /*#__PURE__*/_jsxDEV(HandleFile, {\n          uid: uid,\n          onFileSubmit: onFileSubmit,\n          handleSwitch: handleSwitch,\n          classifyingType: classifyingType,\n          themeColor: themeColor,\n          TextClassificationColor: TextClassificationColor,\n          FeaturesClassificationColor: FeaturesClassificationColor,\n          TextString: TextString,\n          FeaturesString: FeaturesString\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 15\n        }, this),\n        secondStepComponent: /*#__PURE__*/_jsxDEV(ScoresAndStats, {\n          report: report\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 15\n        }, this),\n        thirdStepComponent: /*#__PURE__*/_jsxDEV(HandleDataToPredict, {\n          uid: uid,\n          classifyingType: classifyingType,\n          featuresLabels: featuresLabels,\n          onPredictFormSubmit: onPredictFormSubmit,\n          onPredictFileSubmit: onPredictFileSubmit,\n          modelId: modelId\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          height: '10rem'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 158,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"xXKkL+h0JfMYeBnQrE94OQuUd7A=\");\n\n_c = App;\nconst appStyle = {\n  backgroundColor: '#444',\n  color: 'white'\n};\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["D:/CLSFY/src/App.js"],"names":["React","useState","useRef","axios","v4","uuidv4","AppBar","About","AppStepper","HandleFile","ModelsCards","ScoresAndStats","HandleDataToPredict","Container","Snackbar","TextString","FeaturesString","TextClassificationColor","FeaturesClassificationColor","anonymousString","signedString","uploadStep","reportStep","PredictStep","scrollToRef","ref","current","scrollIntoView","behavior","block","App","activeStep","setActiveStep","themeColor","setThemeColor","classifyingType","setClassifyingType","report","setReport","user","setUser","userType","setUserType","uid","setUid","featuresLabels","setFeaturesLabels","modelId","setModelId","modelsData","setModelsData","message","setMessage","disableSwitch","setDisabledSwitch","deleteModelFromDatabase","modelIdToDelete","url","res","method","data","console","log","err","response","status","fetchModelsData","onLogin","userFromLogin","onLogout","onPredictFormSubmit","predictedClass","onPredictFileSubmit","onFileSubmit","dataReport","handleSwitch","SwitchTextString","deleteModelFromModelsData","newModelsData","filter","modelData","onModelSelection","features","executeScrollStart","handleModelDelete","handleActiveSetChange","step","homeRef","executeScrollHome","startRef","testButtonClick","fontFamily","fontSize","width","height","color","appStyle","backgroundColor"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './App.css';\nimport { useState, useRef } from 'react'\nimport axios from 'axios';\nimport { v4 as uuidv4 } from 'uuid';\n\nimport AppBar from'./components/AppBar'\nimport About from'./components/About'\nimport AppStepper from'./components/AppStepper'\n\nimport HandleFile from'./components/file_handling/HandleFile'\nimport ModelsCards from'./components/ModelsCards'\nimport ScoresAndStats from'./components/scores_and_stats/ScoresAndStats'\nimport HandleDataToPredict from'./components/handle_data_to_predict/HandleDataToPredict'\n\nimport Container from '@mui/material/Container';\nimport { Snackbar } from '@mui/material';\n\nconst TextString = \"Text\"\nconst FeaturesString = \"Features\"\n\nconst TextClassificationColor = \"#ffcc80\"\nconst FeaturesClassificationColor = \"#80cbc4\"\n\nconst anonymousString = \"Anonymous\"\nconst signedString = \"Signed\"\n\nconst uploadStep = 0\nconst reportStep = 1\nconst PredictStep = 2\n\nconst scrollToRef = (ref) => ref.current.scrollIntoView({ behavior: 'smooth', block: 'center' })\n\nfunction App()\n{\n  const [activeStep, setActiveStep] = useState(uploadStep)\n  const [themeColor, setThemeColor] = useState(TextClassificationColor)  \n  const [classifyingType, setClassifyingType] = useState(TextString)\n  const [report, setReport] = useState({})\n  const [user, setUser] = useState(null)\n  const [userType, setUserType] = useState(anonymousString)\n  const [uid, setUid] = useState(uuidv4()) //generate unique id for anonymous user\n  const [featuresLabels, setFeaturesLabels] = useState([])\n  const [modelId, setModelId] = useState(null)\n  const [modelsData, setModelsData] = useState(null)\n  const [message, setMessage] = useState(null)\n  const [disableSwitch, setDisabledSwitch] = useState(false)\n\n  const deleteModelFromDatabase = async (uid, modelIdToDelete) => {\n    const url = 'model/' + uid\n    try {\n        const res = await axios({\n            method: 'delete',\n            url: url,\n            data:{\n              modelIdToDelete\n            }\n        });\n        console.log(res.data)\n      } \n      catch (err) \n      {\n        console.log(err.response.status)\n      }\n}\n\n  const fetchModelsData = async (uid) => {\n    const url = 'models-data/' + uid\n    try {\n        const res = await axios({\n            method: 'get',\n            url: url\n        });\n        console.log(res.data)\n        setModelsData(res.data['models_data'])\n      } \n      catch (err) \n      {\n        console.log(err.response.status)\n      }\n}\n\n  const onLogin = async (userFromLogin) => {\n    setUser(userFromLogin)\n    setUserType(signedString)\n    setUid(userFromLogin.uid)\n    fetchModelsData(userFromLogin.uid)\n  }\n\n  const onLogout = () => {\n    console.log(\"LOGOUT\")\n    setUser(null)\n  }\n\n  const onPredictFormSubmit = async (predictedClass) => {\n    console.log(predictedClass)\n    //predictFeatures(dataToPredict)\n    //send to \n  }\n\n  const onPredictFileSubmit = (predictedClass) => {\n    console.log(predictedClass)\n  }\n\n  const onFileSubmit = async (data) => {\n    setDisabledSwitch(true)\n    setActiveStep(reportStep)\n    setModelId(data['file_id'])\n    console.log(data['report'])\n    const dataReport = data['report']\n    console.log(typeof dataReport)\n    setReport(dataReport)\n    setFeaturesLabels(data['report']['features_labels'])\n    setMessage('Trained model saved')\n  }\n\n  const handleSwitch = (SwitchTextString) => {\n    setClassifyingType(SwitchTextString)\n    if(themeColor === TextClassificationColor)\n      setThemeColor(FeaturesClassificationColor)\n    else\n      setThemeColor(TextClassificationColor)\n    console.log(FeaturesClassificationColor)\n  }\n\n  const deleteModelFromModelsData = (modelIdToDelete) => {\n    const newModelsData = modelsData.filter(modelData => modelData['id'] !== modelIdToDelete)\n    console.log(newModelsData)\n    setModelsData(newModelsData)\n  }\n\n  const onModelSelection = (modelId, features) => {\n    setFeaturesLabels(features)\n    setModelId(modelId)\n    setActiveStep(PredictStep)\n    executeScrollStart()\n  }\n\n  const handleModelDelete = (modelIdToDelete) => {\n    deleteModelFromModelsData(modelIdToDelete)\n    deleteModelFromDatabase(uid, modelIdToDelete)\n  }\n\n  const handleActiveSetChange = (step) => {\n    setActiveStep(step)\n  }\n\n  const homeRef = useRef(null)\n  const executeScrollHome = () => scrollToRef(homeRef)\n  const startRef = useRef(null)\n  const executeScrollStart = () => scrollToRef(startRef)\n\n  const testButtonClick = () => {\n    setMessage('Scores & Stats updated')\n  }\n\n  return ( \n    <div style={{fontFamily: 'Calibri light', fontSize: '1.25rem'}}>\n      <Snackbar\n        open={message}\n        autoHideDuration={6000}\n        onClose={() => setMessage(null)}\n        message={message}\n      />\n\n      <Container ref={homeRef} sx={{width: \"90%\"}}>\n        <AppBar\n          user={user} \n          handleLogin={onLogin} \n          handleLogout={onLogout}\n          handleHomeClick={executeScrollHome}\n          handleStartClick={executeScrollStart}\n        />\n        <div style={{ height: '10rem' }} />\n        <About user={user}/>\n        <button onClick={testButtonClick}>Test</button>\n        <br/>\n        {modelsData?\n          <>\n            <ModelsCards \n              modelsData={modelsData}\n              onModelSelection={onModelSelection}\n              handleModelDelete={handleModelDelete}\n            /> \n            <hr/>\n          </>\n        : null}\n\n      </Container>\n\n      <div className=\"waves\" role=\"presentation\"></div>\n      <div className=\"content-bottom\" ref={startRef} style={{color: themeColor}}>\n        <div style={{ height: '5rem' }} />\n          <AppStepper\n            activeStep={activeStep}\n            setActiveStep={handleActiveSetChange}\n            firstStepComponent={\n              <HandleFile \n                uid={uid}\n                onFileSubmit={onFileSubmit}\n                handleSwitch={handleSwitch}\n                classifyingType={classifyingType}\n                themeColor={themeColor}\n                TextClassificationColor={TextClassificationColor}\n                FeaturesClassificationColor={FeaturesClassificationColor}\n                TextString={TextString}\n                FeaturesString={FeaturesString}\n              />}\n            secondStepComponent={\n              <ScoresAndStats \n                report={report}\n              />}\n            thirdStepComponent={\n              <HandleDataToPredict \n                uid={uid}\n                classifyingType={classifyingType}\n                featuresLabels={featuresLabels}\n                onPredictFormSubmit={onPredictFormSubmit}\n                onPredictFileSubmit={onPredictFileSubmit}\n                modelId={modelId}\n              />}\n          />\n          <div style={{ height: '10rem' }} />\n        </div>\n    </div>\n  );\n}\n\nconst appStyle = \n{\n  backgroundColor: '#444',\n  color: 'white',\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}